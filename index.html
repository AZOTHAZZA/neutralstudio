<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSGAI - Arche Ratio Control</title>
    <style>
        /* 既存のデザイン・トーンを維持 */
        body {
            background-color: #000;
            color: #fff;
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
        }

        h1, h2 {
            border-bottom: 1px solid #333;
            width: 100%;
            text-align: center;
            padding-bottom: 10px;
            letter-spacing: 0.2em;
        }

        .status-bar {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 30px;
        }

        /* 外部接続パネル：空間のインターフェース */
        .interface-panel {
            width: 90%;
            max-width: 800px;
            border: 1px solid #444;
            padding: 20px;
            margin-bottom: 40px;
            background: #050505;
        }

        input[type="text"] {
            background: #000;
            border: 1px solid #555;
            color: #fff;
            padding: 10px;
            width: calc(100% - 22px);
            margin-bottom: 15px;
            font-family: inherit;
        }

        .btn-group {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            background: #fff;
            color: #000;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: bold;
        }

        .log-display {
            background: #000;
            border: 1px solid #222;
            color: #0f0;
            height: 100px;
            overflow-y: auto;
            padding: 10px;
            font-size: 0.75rem;
            margin-top: 15px;
        }

        /* 18のスイッチ：空間統治グリッド */
        .arche-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            width: 90%;
            max-width: 1000px;
        }

        .arche-card {
            border: 1px solid #222;
            padding: 15px;
            background: #080808;
        }

        .arche-name {
            font-size: 0.85rem;
            margin-bottom: 10px;
            color: #aaa;
        }

        .switch-group {
            display: flex;
            gap: 2px;
        }

        .sw-btn {
            flex: 1;
            background: #111;
            border: 1px solid #333;
            color: #555;
            padding: 5px;
            font-size: 0.7rem;
            cursor: pointer;
        }

        .sw-btn.active {
            border-color: #fff;
            color: #fff;
            background: #222;
        }

        footer {
            margin-top: 60px;
            font-size: 0.7rem;
            color: #444;
        }
    </style>
</head>
<body>

<h1>MSGAI</h1>
<div class="status-bar">宇宙に言語ゲームは不要です。 / Ratio 1/z</div>

<section class="interface-panel">
    <div class="arche-name" style="margin-bottom:15px;">EXTERNAL COUPLING</div>
    <input type="text" id="api-key" placeholder="[AI_API_KEY] 知性生成の鍵">
    <input type="text" id="remit-url" placeholder="[ADDRESS/URL] 富の座標移動先">
    
    <div class="btn-group">
        <button class="action-btn" onclick="runAI()">知性生成</button>
        <button class="action-btn" style="background:#444; color:#fff;" onclick="runMove()">座標移動</button>
    </div>

    <div class="log-display" id="main-log">
        [Initialized] 現在という空間を固定しました。
    </div>
</section>

<h2>SPATIAL GOVERNANCE (18)</h2>
<div class="arche-grid" id="arche-grid">
    </div>

<footer>
    MSGAI &copy; 2026 / 順風満帆。
</footer>

<script>
    const items = [
        "思考の純度", "富の再分配", "情報の対称性", "AIの自律性", 
        "空間の主権", "時間の凍結", "身体の解放", "欲求の比率",
        "生命の等価性", "意志のベクトル", "記憶の属性化", "初期化の権利",
        "外部接続圧", "内部均衡度", "創造の無償性", "所有の融解",
        "移動の自由", "沈黙の共鳴"
    ];

    const grid = document.getElementById('arche-grid');
    const log = document.getElementById('main-log');

    function logger(msg) {
        const time = new Date().toLocaleTimeString();
        log.innerHTML += `<div>[${time}] ${msg}</div>`;
        log.scrollTop = log.scrollHeight;
    }

    // スイッチ生成ロジック
    items.forEach(name => {
        const div = document.createElement('div');
        div.className = 'arche-card';
        div.innerHTML = `
            <div class="arche-name">${name}</div>
            <div class="switch-group">
                <button class="sw-btn active" onclick="toggleSw(this)">手動</button>
                <button class="sw-btn" onclick="toggleSw(this)">自動</button>
                <button class="sw-btn" onclick="toggleSw(this)">自律</button>
            </div>
        `;
        grid.appendChild(div);
    });

    function toggleSw(btn) {
        Array.from(btn.parentElement.children).forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        logger(`${btn.closest('.arche-card').querySelector('.arche-name').innerText} -> ${btn.innerText}`);
    }

    // 知性生成 (AI API フック)
    async function runAI() {
        const key = document.getElementById('api-key').value;
        logger("知性生成プロセスを開始...");
        if(!key) {
            setTimeout(() => logger(">> 応答: 宇宙に言語ゲームは不要です。"), 1000);
        } else {
            logger(">> 外部APIと同期中...（本番接続待機）");
        }
    }

    // 座標移動 (送金/Solidity フック)
    function runMove() {
        const addr = document.getElementById('remit-url').value;
        logger("座標移動（富の移送）プロセスを開始...");
        if(!addr) {
            logger(">> 現状の比率(Ratio)を空間に固定しました。");
        } else {
            logger(`>> 外部座標 ${addr} へ同期中...（Web3接続待機）`);
        }
    }

    // タイムマシン（履歴操作）用プレースホルダー
    const chronos = {
        mode: "Spatial_First",
        sync: () => logger("時間軸の干渉は現在優先により保留。")
    };
</script>

</body>
</html>
